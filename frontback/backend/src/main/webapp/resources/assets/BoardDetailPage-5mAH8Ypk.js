import{_,f as g,p as C,r as x,c as l,b as a,t as n,d as o,q as f,F as c,m as D,h as B,u as Y,o as r}from"./index-Bj3OeVlX.js";import{a as b}from"./boardApi-tdB4MvCr.js";import{h as F}from"./moment-C5S46NFB.js";const N=async m=>{try{const s=document.createElement("a");s.href=m,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(s){console.error(s)}},R={class:"my-3 d-flex justify-content-between"},V={class:"text-end"},q=["onClick"],E={class:"content"},H={class:"my-5"},L={__name:"BoardDetailPage",setup(m){const s=g(),v=C(),i=Y(),u=v.params.no,e=x({}),y=()=>{i.push({name:"board/list"})},k=()=>{i.push({name:"board/update",params:{no:u}})},h=async()=>{confirm("삭제할까요?")&&(await b.delete(u),i.push({name:"board/list"}))},w=async p=>{const t="/api/board/download/"+p;await N(t)};return(async()=>{e.value=await b.get(u)})(),(p,t)=>(r(),l(c,null,[a("h1",null,n(e.value.title),1),a("div",R,[a("div",null,[t[0]||(t[0]=a("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(e.value.writer),1)]),a("div",null,[t[1]||(t[1]=a("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(f(F)(e.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),t[6]||(t[6]=a("hr",null,null,-1)),a("div",V,[(r(!0),l(c,null,D(e.value.attaches,d=>(r(),l("div",{key:d.no,class:"attach"},[a("span",{onClick:P=>w(d.no)},[t[2]||(t[2]=a("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(d.filename),1)],8,q)]))),128))]),a("div",E,n(e.value.content),1),a("div",H,[a("button",{class:"btn btn-primary me-2",onClick:y},t[3]||(t[3]=[a("i",{class:"fa-solid fa-list"},null,-1),o(" 목록 ")])),f(s).username==e.value.writer?(r(),l(c,{key:0},[a("button",{class:"btn btn-primary me-2",onClick:k},t[4]||(t[4]=[a("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정 ")])),a("button",{class:"btn btn-danger",onClick:h},t[5]||(t[5]=[a("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제 ")]))],64)):B("",!0)])],64))}},I=_(L,[["__scopeId","data-v-fa4accaf"]]);export{I as default};
