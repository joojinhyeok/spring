import{_,f as g,s as C,r as x,c as l,b as t,t as n,d as o,q as f,F as c,m as D,h as B,u as Y,o as r}from"./index-DydowJ4N.js";import{a as b}from"./boardApi-R7IQiBDW.js";import{h as F}from"./moment-C5S46NFB.js";const N=async m=>{try{const s=document.createElement("a");s.href=m,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(s){console.error(s)}},R={class:"my-3 d-flex justify-content-between"},V={class:"text-end"},q=["onClick"],E={class:"content"},H={class:"my-5"},L={__name:"BoardDetailPage",setup(m){const s=g(),v=C(),i=Y(),u=v.params.no,e=x({}),y=()=>{i.push({name:"board/list"})},k=()=>{i.push({name:"board/update",params:{no:u}})},h=async()=>{confirm("삭제할까요?")&&(await b.delete(u),i.push({name:"board/list"}))},w=async p=>{const a="/api/board/download/"+p;await N(a)};return(async()=>{e.value=await b.get(u)})(),(p,a)=>(r(),l(c,null,[t("h1",null,n(e.value.title),1),t("div",R,[t("div",null,[a[0]||(a[0]=t("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(e.value.writer),1)]),t("div",null,[a[1]||(a[1]=t("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(f(F)(e.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),a[6]||(a[6]=t("hr",null,null,-1)),t("div",V,[(r(!0),l(c,null,D(e.value.attaches,d=>(r(),l("div",{key:d.no,class:"attach"},[t("span",{onClick:P=>w(d.no)},[a[2]||(a[2]=t("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(d.filename),1)],8,q)]))),128))]),t("div",E,n(e.value.content),1),t("div",H,[t("button",{class:"btn btn-primary me-2",onClick:y},a[3]||(a[3]=[t("i",{class:"fa-solid fa-list"},null,-1),o(" 목록 ")])),f(s).username==e.value.writer?(r(),l(c,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:k},a[4]||(a[4]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정 ")])),t("button",{class:"btn btn-danger",onClick:h},a[5]||(a[5]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제 ")]))],64)):B("",!0)])],64))}},I=_(L,[["__scopeId","data-v-86c0d431"]]);export{I as default};
