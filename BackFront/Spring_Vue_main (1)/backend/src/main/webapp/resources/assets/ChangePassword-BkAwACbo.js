import{f as P,a as v,g as y,r as h,c as u,b as s,d as r,h as k,w as l,v as n,t as x,e as g,u as V,o as p}from"./index-DydowJ4N.js";import{a as S}from"./authApi-DCGGRAlT.js";const _={class:"mt-5 mx-auto",style:{width:"500px"}},B={class:"mb-3"},I={class:"mb-3"},N={class:"mb-3"},U={key:0,class:"text-danger"},A=["disabled"],M={__name:"ChangePassword",setup(C){const w=V(),m=P(),a=v({username:m.username,oldPassword:"",newPassword:"",newPassword2:""}),c=y(()=>!a.oldPassword||!a.newPassword||!a.newPassword2),e=h(""),f=()=>e.value="",d=()=>e.value="",b=async()=>{if(a.newPassword!=a.newPassword2){e.value="새 비밀번호가 일치하지 않습니다.";return}try{await S.changePassword(a),alert("비밀번호를 수정했습니다."),w.push({name:"profile"})}catch(i){e.value=i.response.data}};return(i,o)=>(p(),u("div",_,[o[7]||(o[7]=s("h1",{class:"my-5"},[s("i",{class:"fa-solid fa-lock"}),r(" 비밀번호 변경 ")],-1)),s("form",{onSubmit:g(b,["prevent"])},[s("div",B,[o[3]||(o[3]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),r(" 이전 비밀번호: ")],-1)),l(s("input",{type:"password",class:"form-control",placeholder:"이전 비밀번호","onUpdate:modelValue":o[0]||(o[0]=t=>a.oldPassword=t),onInput:f},null,544),[[n,a.oldPassword]])]),s("div",I,[o[4]||(o[4]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),r(" 새 비밀번호: ")],-1)),l(s("input",{type:"password",class:"form-control",placeholder:`\r
\r
새 비밀번호`,"onUpdate:modelValue":o[1]||(o[1]=t=>a.newPassword=t),onInput:d},null,544),[[n,a.newPassword]])]),s("div",N,[o[5]||(o[5]=s("label",{for:"password",class:"form-label"},[s("i",{class:"fa-solid fa-lock"}),r(" 새 비밀번호 확인: ")],-1)),l(s("input",{type:"password",class:"form-control",placeholder:`\r
\r
새 비밀번호 확인`,"onUpdate:modelValue":o[2]||(o[2]=t=>a.newPassword2=t),onInput:d},null,544),[[n,a.newPassword2]])]),e.value?(p(),u("div",U,x(e.value),1)):k("",!0),s("button",{type:"submit",class:"btn btn-primary mt-4",disabled:c.value},o[6]||(o[6]=[s("i",{class:"fa-solid fa-check"},null,-1),r(" 확인 ")]),8,A)],32)]))}};export{M as default};
